Този път задачата е доста по-обща. Не знам точно откъде мога да започна и дали е възможно да покрия
всичко. Като начало мисля, че и в час споменахме, но погледнах в /etc/os-release и видях, че
машината е с debian stretch. Използвах fdisk, за да видя как е partition-ната машината. Има един
partition /dev/vda1. Погледнах и с lsblk какви block device-и има и видях два: vda(виртуализирано
дисково устройство) и sr0, което не знаех какво е първоначално, но с бърза проверка в /etc/fstab
видях, че е cdrom. Също така видях, че vda1 е mount-нато на / с файлова система btrfs. 

Не очаквах да има някакви промени по grub, но реших да погледна в /etc/default/grub какво има и
всичко изглеждаше стандартно. Реших да погледна какви cronjob-ове има и разгледа /etc/crontab
/etc/cron.d и други.  Видях, че има няколко cron job-а, които бях под cron.daily папката. Един за
някакъв popularity contest.  Имаше и един в cron.d, но той викаше този в cron.daily. Имаше и няколко
други за passwd, bsdmanutils, logrotate, apt-compat и dpkg. passwd видях, че прави backup-и на
/etc/group, /etc/passwd, /etc/shadow и /etc/gshadow. logrotate - компресира и ротира системните
логове: https://linux.die.net/man/8/logrotate . Логовете на системата доколкото знам са в едни
архиви номерирани от най-нови до най-стари. Logrotate проверява логовете и ако са достатъчно големи
ги измества с единица, като създава нов на първо място и затрива най-стария. Тези логове преди това
разбира се се backup-ват. popularity-contest-а праща някакви http заявки или мейли на пръв поглед.
Към него мисля, че може да е добра да се върна по-натам. 

Като начало май избързах с разучването на машината. Добра идея е още малко да погледна на какъв
хардуер работя. За целта реших да използвам lshw. Така ми се стори по-лесно, макар че по-голямата
част от този информация я има под sys и proc, като например /proc/cpuinfo и подобни. Преди това
обаче видях, че имам 2 гб рам с free -h. Видях, че машината е с биос и че като процесор има  Intel
Core Processor(Broadwell) и то не само един, а два такива процесора. Тук бяха изписани и scsi
устройства, като hard disk-а, който разбрах, че е с 17гб пространство има и четец на dvd reader.
Това ме мотивира да mount-на cdrom-а и да видя, че на него има информация за това как е бил
инсталиран debian-а. Разгледах малко файловете в isolinux, но поне на пръв поглед не намерих нищо
интересно. Използвах df да видя колко реално е свободното място и видях, че е около 16гб от 17-те на
машината. 

До тук мисля, че вече имам достатъчно информация за хардуера. Реших сега да мина към мрежите. В lshw
видях, че имам само една мрежова карта, а с ip a видях, че има конфигуриран ipv4 и ipv6 адреси,
които са публични. Разбира се ipv6 си има и link local адреса. ipv6 адресът също така е генериран с
autoconfig, използвайки mac address-а и сменяйки по спомен 7мия бит. Пингнах машината да видя, че
имам достъп до нея по интернет успешно. Това обаче важеше само за ipv4 адреса. ipv6 не успях да
ping-на. Беше ми интересно какви мрежови портове са expose-нати и за целта реших да използвам nmap.
Отговорът ми поне засега беше само ssh. Не очаквах нещо да е правено с iptables, ама реших да
погледна и бях прав. Нито една от таблиците, за които се сетих(mangle, nat, filter, raw, security)
нямаше правила. Погледнах и че hostname-а наистина е november в /etc/hostname. Като заключение
сървъра няма защити, публично достъпен е по ipv4 адреса си и няма някакви по-интересни expose-нати
портове, т.е. надали на него работи service, като apache или някоя база или нещо друго от този род,
а като се заговорихме за service-и, това ще е следващото нещо, което ще разгледам. 

Ами пуснах service --status-all командата, за която научих, използвайки help-а. Излезна списък с
прилично количество сървиси, но не твърде много. В него видях неща, като cron, който бях разгледал
по-рано, rsyslog, ssh, quemu(помня, че служеше за виртуализация) и udev, които бяха в изправност. 
Разгледах man page-а за udev: https://manpages.debian.org/stretch/udev/udev.7.en.html Видях, че
служи за генериране на device event-и и регулира правата върху device node-ове, а и го споменахме,
когато коментирахме домашното по мрежи, че може да добавим правила, така че мрежовите и дисковите
устройства винаги да имат едно и също име. networking, kmod и hwclock.sh бяха с питанка, което
предполагам значи, че имат проблем сега ще проуча. Другите service-и бях спряни. Понеже не намерих
полезна информация на man page-а на service потърсих в гугъл и видях това:
https://askubuntu.com/questions/446950/what-is-in-service-status-all Разбрах, че ? означава, че не е
разборало статуса на application-а без да гарантира, че не работи. После видях, с в help-а на
networking init.d файла, че не поддържа status функцията по начало и няма как да ми даде информация
status all тогава. Аналогично за hwclock и kmod. Видях, че hwclock има show команда, която показва
часа по време на този процес. kmod по спомен и малко подсказка от man page-а показа беше за
менижиране на модули: https://man7.org/linux/man-pages/man8/kmod.8.html . Под /etc бях видял dhcp
файл и се чудех дали машината не е dhcp сървър, но липсата на expose-нат порт ми подсказа, че не е,
а и като влязох във файла се усетих, че това са файлове за dhcp клиент, а не сървър, а и май за
сървър трябва да е dhcpd. 

Последната ми идея за неща, които мога да погледна е какви пакети има инсталирани на машината.
Цялостно може да видя нещо нестандартно и така да си подскажа с нещо. Иначе освен това май остава
само да прегледам по-подробно cron job-овете и по-точно този за popularity-contest-а. Установих, че
на машината няма man page-ове и бях много шокиран. Мислех досега, че няма просто man page-ове за
конкретни команди и чак сега се вгледах, че всъщност просто няма команда man. Листнах ги първо с apt
и видях просто, че има много пакети. После с dpkg-query --list и видях, че това е по-яко защото има
и кратък description за какво е пакета. Цялостно имам чувството, че нищо няма да открия тук, ама
ще хвърля бърз поглед, защото мога и яко да греша. Ами разгледах пакетите и както предположих нямаше
нищо интересно. Описанията доста ми помогнаха с 300-те пакет, така че да знам по-добре за какво са.
Реално главно четох description-и и доста от пакетите ми се сториха системни или някакви стандартни,
които бих очаквал да са на машината. Интересните пакети вече са неща, които съм разглеждал, като
rsyslog. Иначе отдавна разбрах това, но не споменах, че системата е със systemV. На някакви места
виждам systemd файлове, но предполагама те не са важни. Под /etc има всичките rc файлове за
runlevel-ите и service-ите са под /etc/init.d.

Разгледах /etc/rsyslog.conf. Разбрах къде се логва, че два модула за log-ване на kernel данни и на
данни за машината са заредени. Emergency message-и се пращата на всички, които са закачени за
машината има и няколко catch-all файла за всякакви логове и по-точно това са /var/log/debug и
/var/log/messages. Интересно е, че cron.log е спряно. Не знам дали нарочно, защото нещо се чупи или
по друга причина. Имам чувството, че cron-а е важен и главно затова се чудя. Чудех се дали да почета
логовете, ама честно не искам XD, а и не вярвам, че ще има полза.

Погледнах /etc/passwd и вътре няма някакви специални user-и с оставен коментар, който да подксазва
нещо важно. Има някакъв gnats за bug reporting. Има и systemd потребители, които не знам за какво
са. Доста ми бъркат в душата. Погледнах systemd man страницата и видях, че за съвместимост с SystemV
има нещо наречено telinit, който е друг скрипт, който се пуска след init, но е на systemd init-а все
едно. Намерих на машината такава команда също така, така че предполагам това е причината за тези
user-и: https://man7.org/linux/man-pages/man1/systemd.1.html Погледнах и /etc/group, ама там имаше
само generic групите за различните потребители.

Така нека се върнем към cronjob-овете. Вече нямам други идеи освен да чета логове, а не ми се
занимава много с това. После ще мина към това да настроя ipv6 свързаността и ntpd, но те не очаквам
да са свръх сложни като задача или поне така се заблуждавам. Правил съм подобни неща преди и
очаквам, че ще ми отнеме сравнително малко време особено първото.

За cron job-а осъзнах, че съм зле. Намери под /usr/sbin/popularity-contest командата и прегледах man
page-а й, като разбрах, че изписва най-популярните дебиан. Тези команди cron job-а после ги праща на
даден мейл и се опитва да направи http POST с данните до някакъв url. Поне така ми изглежда. Пак не
задълбах, но разбрах идеята му. 
https://manpages.debian.org/testing/popularity-contest/popularity-contest.8.en.html

dpkg cron job-а запаметява dpkg базата данни, ако е имало промени(предполагам като се инсталират
нови пакети. man-db cronjob-а презарежда(сваля наново) man page-овете на някакъв интервал от време. 
bsdmanutils проверява дали е в /etc/defualt/bsdmanutils run_daily е маркирано за true. Ако е вика
calendar функцията, която нотифицира потребители за наближавиащи евенти. Другите два cron job-а май
ги споменах по-горе. Ааа apt-compat пуска на някакъв рандъм интервал от време apt.systemd.daily
скрипт, който доколкото виждам обновява пакетите на машината на някакъв период от време. Като гледам
обаче това обновяване май е спряно. Навсякъде има нулички в конфиуграцията в началото на файла.

Така след cronjob-овете е време да правим малко конфигурация на мрежата. Помня, че имаше едни
файлове със специфичен debians-ски синтаксис, в който слагахме конфигурацията за ip address-ите,
маските и другите файлове на машината. Кои файлове обаче не помня и ще гугълна. Осъзнах, че това са
същите файлове, които променях при конфигурацията на PXEboot и също така, че имаха man page
interfaces. Тази информация открих тук: 
https://wiki.debian.org/NetworkConfiguration#Setting_up_an_Ethernet_Interface
Сложих съответните настройки за адрес/маска и default gateway. Потърсих в man page-а на interfaces
как да спра автоматичната конфигурация, като не приемам router advertisements и открих accept_ra 0,
че ще свърши работа. И опитах се да рестартирм интерфейса, но аз съм идиот и просто го спрях и това
е remote машина и сега не мога да се ssh-на към нея. Ами това беше за днес явно.

На другия ден рестартирахте машината и конфигурацията се беше заредила успешно. Все пак, защото това
е малко cheat-ване реших да потърся как да обновя мрежовия интерфейс без да губя връзка и в интернет
видях, че най-лесният начин е да рестартирам networking service-а, което общо взето прави ifdown и
ifup на всички интерфейси. Това е супер и реших да пусна командата, за да видя дали всичко работи
както искам и за щастие всичко мина успешно. С ip a видях ipv6 адреса на машината, че е правилния и
с ip -6 ro видях, че default route-а също е конфигуриран успешно. Пак обаче нямах връзка по ipv6 до
машината, което ме озадачи. Тогава пробвах да ping-на default gateway-а и това не беше успешно. Това
общо взето ми казва, че вероятно не съм аз виновен, защото не аз съм конфигурирал default gateway-а.
Аз фактически нямам достъп до него или той няма как да ми върне обратно трафика, който е получил.
Без значение кое от двете е няма как като машината ми използва този default gateway да се свържа с
нея, като не мога да се свържа до самия gateway. Тя не знае за моята мрежа и трафикът ще отиде към
адреса на gateway-а и няма да стигне до мен дори аз да стигам до машината. После се замислих дали
проблемът не е всъщност на локалната ми машина и видях, че на нея не е конфигуриран глобален ipv6
адрес и това вероятно е причината да не мога да ping-на remote машината. Съответно в гугъл намерих
този сайт, който ping-ва с ipv6 и успешно ping-нах и двете машини(november и default gateway-а му).
Значи проблемът е от моя компютър. Това използвах за онлайн ping-а: http://ipv6now.com.au/pingme.php
Вероятно просто рутерът ми не е конфигуриран за ipv6 и не праща router advertisements, за да мога да
си генерирам глобален ipv6 адрес, което не знам дали е нормално. Добре не е и това проблемът. И от
настолния ми компютър, който има ipv6 адрес не можах да ping-на машината. Интересно е, че горният
сайт може. Честно не знам каква е причината. Може default gateway-а да ме реже просто по някаква
причина, макар че и това не е супер логично, защото онзи ping tool го достъпва успешно, а не виждам
защо той би бил по-достоверен. Online tool-а го тествах и с фалшиви адреси и работеше. Еми не знам.
Приемам, че пропускам нещо. Ще мина към ntpd и ще го помисля после пак, но очевидно проблемът ми
идва от локалната ми мрежа или hit-вам някакво правило на default gateway-а по някакъв начин.
Може и на настолния компютър адреса да е смотан, защото не започва с 2001, а е 2620, макар че и това
май е вадилен глобален ipv6 адрес. Добре явно и на локалната машина и на настолния компютър нямам
ipv6 настроено, като хората, защото и други публични dns ipv6 адреси не мога да пинг-на. Вероятно
интернет доставчика не ми е заделил ipv6 адрес. Горния с 2620 не знам за какво е и защо не работи.
Гугълнах, но не намерих. Иначе се сетих, че vivacom трябва да ми заделят някакъв prefix на мрежата и
да се конфигурира на рутер, за да мога да използвам autoconf. Вероятно нямам такъв и затова не ми се
е настроило ipv6. Така че време за ntpd

ntpd:
Ами като начало инсталирха ntpd. Цялостно съм учил преди какво е ntp и как работи. Помня, че имаше
число, което служеше да каже колко ти е reliable ntp сървъра. Има глобално сървъри, на които можем
най-много да се доверим, защото те са с някакви супер точни атомни часовници. Другите ntp сървъри се
водят от глобалните и тяхното число на достоверност се инкрементираше с 1, за да покаже, че те не са
толкова достоверни, колкото мастър сървърите. Числата, които рефирират второто ниво ntp сървъри
инкрементират числото с още едно и те образуват ве едно трето ниво. И така нататък надолу с другите
ntp сървъри. В wikipedia това магическо число за достоверност прочетох, че се наричаше stratum.
Спомнях си, че има лимит на stratum, който беше около 15 и явно правилно помня според wikipedia.
Достоверността на сървърите намалява, защото с всеки стратум времето е една идея по-неточно, защото
има някакво забавяне при синхронизацията между сървърите с няколко милисекунди. Също така самите
машини приоритизират сървърите с по-голям стратум и взимат времето от този сървър с най-нисък
stratum(стига да имат достъп до него), ако са вързани към няколко сървъра. Намерих този линк, 
който също е доста интересен: http://www.ntp.org/ntpfaq/NTP-s-algo.htm#Q-ALGO-BASIC-SYNC 
Припомних си, че stratum 0 са самите часовници. Stratum 1 са сървърите вързани към тях и всички
други сървъри реферират, тях. Има и тук обяснение как се изчислява delay-а във време. Пращат се
няколко пакета между сървъра и клиента със timestamp, кога е пратен пакета от клиента, кога е
получен от сървъра и кога е пратен обратно към клиента. Тези данни се използват за изчисляване на
offset-и. ntp port-а е 123 и използва udp, което също е интересно. Логично ми изглежда да се
приоритизира скорост вместо сигурност, че пакета ще пристигне в ситуацията. С minpoll и maxpoll може
да се използват, за да се определя колко често питаш ntp съръра за синхронизация на времето. Тези
променливи нямат оптимални стойности, ако твърде рядко питаме ntp сървъра за информация може да
доведе до по-големи грешки, ако има някакъв проблем и да се нуждаем от по-големи корекции. Малки
интервали са по-чувствителни по отношение на jitter и случайни грешки. 

Дефиниция за jitter:
https://techterms.com/definition/jitter#:~:text=Jitter%2C%20in%20networking%2C%20refers%20to,and%20when%20it%20is%20received.
Доколкото разбрах са малки delay-ове по време на трансфер на данни. По-точно промяната в latency-то,
което знам, че е времето, което отнема един пакет да се прати по мрежата от момента на
трансфер до получаването му. Като се има предвид тази дефиниция предполагам, че горе се визира
разминаване при получаването на данните. Може да пратим две заявки, но да ги получим в обратен ред и
тва да доведе до проблеми за ntp. 

В горния линк са описани и системните извиквания, които ntp използва и кога ги използва, като
adjtime(постепенно коригиране на времето) и ntp_adjtime(контролиране на няколко параметъра на
сустемния часовник. Може директно да променя честота нарпимер), settimeofday(за коригиране на
време, ако има разминаване от 128ms) 

Разбрах и какво е PPS: https://en.wikipedia.org/wiki/Pulse-per-second_signal Погледнах това описание
и тази картинка:
https://www.google.com/search?q=pulse+per+second&sxsrf=ALeKk01-7WVqwrJiWVTPW95h50fwktt6rA:1607087346923&source=lnms&tbm=isch&sa=X&ved=2ahUKEwixmb7zsrTtAhWkw4sKHSgwAEcQ_AUoAXoECBAQAw&biw=1242&bih=611#imgrc=PkHn1PDyCYQh4M

Доколкото разбрах е времето от повишаване или намаляване на сигнала до повтарянето на същото
изкачване/наляване.

Нещо важно, което прочетох на същия линк от горе е, че epoch time за NTP е различно от това за UNIX.
За ntp e 1900-та година, а за UNIX е 1970-та. Това не знам дали е важно, но не го знаех, че е така.

Май е време вече да инсталирма ntpd. Като начало реших да прочета ntpd man page-а. Тама намерих
други два man page-а, които мисля да прегледам после, а именно ntpdate и ntp.conf. На ntpd man
странциата видях някакви режими на работа, които не разбирах. Гугълнах ги и попаднах на това:
http://doc.ntp.org/4.1.0/assoc.htm#:~:text=Symmetric%20active%2Fpassive%20mode%20is,to%20be%20reliable%20and%20proventicated.
Видях 3 главни режима на работа:

1) Client/Server: Стандартния и най-често използван режим, който работи на принципа client server.
Тук клиента праща заявка към сървъра и чака отговор в някакъв бъдещ момент. Този режим има и burst
режими за пращане на пакети до сървъра на някакъв интервал от време, като burst от 8 пакет. iburst
прави burst, само когато за пръв път ntp съръвъра стане достъпен, а burst е при всяка възможност.

2) Symmetric Active/Passive: Тук дискретната математика е полезна XD. Имаме клика от сървъри с нисък
stratum number, които са навързани. Те се наричат peers. Идеята е, че ако загубим връзка до някой
source може да питаме peer-ите за информацията. С ntp source-овете(предполагам сървърите с по-висок
стратум), от които извличаме информация работим в стандартен ntp режим. С другите сме във peer
режим. Ако сървър го конфигурираме за peer, ние влизаме в symmetric/Active peer режим. И му пращаме
съобщение. Ако другата машина, получваща съобщенията ни за peer-ове не е експлицитно конфигурирана
да е активна тя влиза в symmetric passive режим, а иначе и тя е в active режим.

3) Broadcast: Тук ntp сървъра на някакъв период от време праща по broadcast информация за времето и
клиентите или я игнорират или я четат в зависимост от конфигурацията им. Тук е добре да има
сертификат за верифициране на ntp сървъра, за да не сме уязвими за атаки. Тук има и multicast режим,
който работи на този принцип, но не праща на всички адреси информация. 

4) Manycasting: Няколко ntp сървъра служат на multicast адрес. Клиентът праща заявки към тях и ако те
получат заявката и са вързани към валиден source, те отговарят. После клиента праща unicast message
към отговорилия сървър, за да се синхронизира, като по средата на този процес клиента верифицира, че
сървъра е този, за когото се представя.

Забравих да кажа, че има два главни вида association-и: ephemeral, които се генерират, когато
получиш пакет от ntp сървър и не го знаеш кой е и какъв е. Тук връзката се разпада при грешка или
timout.persistent, който са hardcode-нати, като конфигурация и никога не се премахват и preemptable,
който са конфигурация, но при грешка и timeout връзката се разпада.

След като си изясних горните термини прегледах ntpdate man page-а. Струва ми се, че тази команда се
използва от ntp клиенти, а не от сървър. Не знам дали ще ми се наложи да я използвам, но разгледах
man page-а да видя дали има как да стане. Видях, че ntpdate работи на същия порт, като ntpd.
Може да го пусна с -u флага и тогава ще използва различен порт, но това ми се струва, че не е това,
което искаме. Също така видях, че ntpdate е deprecated: 
https://askubuntu.com/questions/297560/ntpd-vs-ntpdate-pros-and-cons
Явно не съм го разбрал съвсем. ntpdate може да се използва да се синхронизира веднъж часовника, а
ntpd го прави постоянно. Вече ntpd може да върши работата на ntpdate и затова ntpdate не се
използва.

В ntp.conf файла имаше доста информация за това как да наконфигурирам всикчите неща, които бях чел
до сега. Примерно peer командата, за да стана активен peer и да направя друг ntp server пасивен
peer. Preempt за това след timeout да спра hardcode-ната връзка. prefer да дам приоритет на сървър.
kernel discipline mode за ntp_adjtime() системното извикване, iburst, burst и много други. Разгледах
и самия ntp.conf файл как е конфигуриран. Като гледам и default-ни ntp сървъри конфигурирани за
poll-ване. Не знаех каква е разликата между pool и server директивите. Според този линк:
https://www.eecis.udel.edu/~mills/ntp/html/discover.html#pool pool дистрибутира заявките между
няколко сървъра доколкото разбирам. Таргетира ли на random принцип. Много сървъри по света се
използват, които отговрята на съответните dns-и и като се върне отговор от dns query някой
произволен от тях се използва за взимане на времето.

Имаше някакви restrict опции липсващи в man page-а. Потърсих и намерих:
https://support.ntp.org/bin/view/Support/AccessRestrictions#Section_6.5.1.1.3.
Доколкото виждам в момента ntp сървъра ми забранява query-та. Също така видях, че с restrict
<address> се дават всички права на дадения адрес, който в случая е localhost. Може и default
държание да се настрои, като игнориране. Имаше nopeer команда и се зачудих това не е ли проблем за
source pool-овете, но видях, че има отделно правило за тях, коеот не съдържа nopeer. Другите
restrict опции са описани горе. Остана само да видя какво точно kod прави като default-но държание.
Намерих, че kod е  kiss'o death: 
https://support.ixiacom.com/strikes/denial/ntp/cve_2015_7704_ntp_kiss_o_death.xml#:~:text=Kiss%2Do%2DDeath%20packets%20are,NTP%20on%20a%20targeted%20system. 
Използва се да rate limit-ва клиенти, които пращат заявки към сървъра.
Иначе има и файлове със статиски, който мога да пусна да се генерират.

Цялостно като гледам не трябва да конфигурирам нищо експлицитно на ntp, за да работи както се
очаква. Само трябва да го пусна. Единствено ми хрумва да направя peer връзка с някой от другите
колеги, за да е по-интересно. Това ще видим дали ще навия някого. Остана обаче да видя как мога да
видя, че ntpd работи като хората или да прочета някакви логове поне. В момента съм пуснал service-а
и виждам, че се води, че е ок, ама нз дали това е достатъчно. Порт 123 също не е expose-нат, но това
може да е защото режа query-та. Аз се усетих, че nmap търси по подразбиране на tcp, а ntp работи на
udp. С -sU флага видях, че е expose-нат port-а :D. Също така има ще интересни параметри на nmap,
които намерих тук:
https://github.com/apuentemedallia/tools-and-techniques-for-vulnerability-validation/blob/master/Vulnerabilities/NTP%20Servers%20Exposed%20to%20Internet.md
Те дават информация за ntp server-а ми. Показаха ми, че съм със stratum 2, rootdelay 1.511 и доста
друга информация. Така поне знам, че сървъра ми отговаря на query-та, ама дали set-ва system time не
съм сигурен. С ntptime видях, че времето е вярно и също каква е грешката. Също така, че kernel
discipline(ntp_adjtime) работи, което предполагам означава, че спокойно мога да приема, че ntp
сървъра си върши работата и има директен достъп до system clock-а. Също намерих и ntpq командата,
която показва peer-ите на сървъра. Така, ако конфигурирам с някого другиго peer-ване мога да следа
как ни е връзката. Видях кои са ми peer-овете и какви са им stratum number-ите. От 1-3 имаше. Те са
маркирани с u, като тип, което разбрах, че е за unicast от тук: 
https://blog.selectel.com/synchronizing-servers-ntp/
Тази команда даде доста информация като delay, jitter и доста други.

Видях, че ntpq си има интерактивен режим, в който мога да видя версията на ntp и доста друга
информация, като kernel info, host, hostnames, version. Понеже тези опции ги нямаше в man page-а ги
гугълнах и попаднах на това: http://doc.ntp.org/4.1.0/ntpq.htm . Доста интересни неща има тук, като
association-ите, които мога да list-на. Мога да поискам clock променливите на другия сървър да се
пратят. Информация за какви данни се пращат може да се манипулира с readlist и writelist. Абе доста
яки неща могат да се правят. Ама стига толкова. Сега ще видя дали мога да навия някого да си
наконфигурираме peer връзка. Ако не успея мисля, че съм дотук. Ще предам това засега и ако не съм
добавил друга информация после, значи не съм навил никого.

Навих Ирина Куртева да си станем peer-и. Първоначално само аз я направих peer и то не тръгна
вероятно, защото е имало restrict правило с nopeer. След като и тя ме добави стана и тръгна и вече
сме си peer-чета, като и двамата сме активни. Интересно беше, че първоначално мислехме, че refid
колонката ntpq -p колонката е ip address-а на чуждата машина, но очевидно не е това. След малко
гугълване се усетих, че това е ip адреса на сървъра, от който нейната машина си е взела информацията
за ntp. Съответно нейният source/reference за времето. Това го видях на този линк:
https://www.meinbergglobal.com/english/info/ntp-refid.htm

Иначе цялостно ми беше интересно да видя за какви команди ще се сетя като разучавам с каква машина
работя. Вероятно не съм се намерил всичко, ама поне се заблуждавам, че си създадох добра представа
за това какво има на машината. Самата конфигурация на ntp беше интересна за четене и си припомних как
работи и научих някои интересни специфики. Бях правил нещо подобно на ipv6 частта, така че не беше сложна,
ама беше добър урок за в бъдеще, че съм на remote машина и да не бързам да спирам network
interface-а. Надявам се да не се повтаря. Повече няма да правя така(надявам се :D).
